<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Add an Iterative LSI-based dimensionality reduction to an ArchRProject — addIterativeLSI • ArchR</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />
<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Add an Iterative LSI-based dimensionality reduction to an ArchRProject — addIterativeLSI" />

<meta property="og:description" content="This function will compute an iterative LSI dimensionality reduction
on an ArchRProject." />

<meta property="og:image" content="/logo.png" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ArchR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/Articles/tutorial.html">Tutorial</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/Articles/doubletRemoval.html">Doublet Removal</a>
    </li>
    <li>
      <a href="../articles/Articles/qcFilters.html">QC Filters</a>
    </li>
    <li>
      <a href="../articles/Articles/peakCalling.html">Peak Calling</a>
    </li>
    <li>
      <a href="../articles/Articles/dimReduction.html">Dimensionality Reduction</a>
    </li>
    <li>
      <a href="../articles/Articles/geneScores.html">Gene Activity Scores</a>
    </li>
    <li>
      <a href="../articles/Articles/markerFeatures.html">Marker Feature Identification</a>
    </li>
    <li>
      <a href="../articles/Articles/signalTracks.html">Signal Track Ploting</a>
    </li>
    <li>
      <a href="../articles/Articles/footprinting.html">TF Footprinting</a>
    </li>
    <li>
      <a href="../articles/Articles/pseudobulkGeneration.html">Pseudobulk Replicate Generation</a>
    </li>
    <li>
      <a href="../articles/Articles/annotations.html">Gene and Genome Annotation</a>
    </li>
  </ul>
</li>
<li>
  <a href="../articles/Articles/faq.html">FAQ</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/GreenleafLab/ArchR">
    <span class="fa fa-github"></span>
     
    ArchR on GitHub
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Add an Iterative LSI-based dimensionality reduction to an ArchRProject</h1>
    
    <div class="hidden name"><code>addIterativeLSI.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>This function will compute an iterative LSI dimensionality reduction
on an ArchRProject.</p>
    
    </div>

    <pre class="usage"><span class='fu'>addIterativeLSI</span>(<span class='kw'>ArchRProj</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>useMatrix</span> <span class='kw'>=</span> <span class='st'>"TileMatrix"</span>,
  <span class='kw'>reducedDimsOut</span> <span class='kw'>=</span> <span class='st'>"IterativeLSI"</span>, <span class='kw'>iterations</span> <span class='kw'>=</span> <span class='fl'>3</span>, <span class='kw'>dimsToUse</span> <span class='kw'>=</span> <span class='fl'>1</span>:<span class='fl'>25</span>,
  <span class='kw'>corCutOff</span> <span class='kw'>=</span> <span class='fl'>0.75</span>, <span class='kw'>LSIMethod</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>binarize</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>sampleCells</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>max</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/Round.html'>floor</a></span>(<span class='fu'><a href='nCells.html'>nCells</a></span>(<span class='no'>ArchRProj</span>)/<span class='fl'>4</span>), <span class='fl'>5000</span>)),
  <span class='kw'>varFeatures</span> <span class='kw'>=</span> <span class='fl'>50000</span>, <span class='kw'>selectionMethod</span> <span class='kw'>=</span> <span class='st'>"var"</span>, <span class='kw'>scaleTo</span> <span class='kw'>=</span> <span class='fl'>10000</span>,
  <span class='kw'>totalFeatures</span> <span class='kw'>=</span> <span class='fl'>5e+05</span>, <span class='kw'>filterQuantile</span> <span class='kw'>=</span> <span class='fl'>0.99</span>,
  <span class='kw'>saveIterations</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>outDir</span> <span class='kw'>=</span> <span class='fu'><a href='getOutputDirectory.html'>getOutputDirectory</a></span>(<span class='no'>ArchRProj</span>),
  <span class='kw'>clusterParams</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(), <span class='kw'>runHarmony</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>harmonyParams</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(),
  <span class='kw'>threads</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>seed</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>verboseHeader</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>verboseAll</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>force</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>ArchRProj</th>
      <td><p>An <code>ArchRProject</code> object.</p></td>
    </tr>
    <tr>
      <th>useMatrix</th>
      <td><p>The name of the data matrix to retrieve from the given ArrowFile. Valid options are "TileMatrix" or "PeakMatrix".</p></td>
    </tr>
    <tr>
      <th>reducedDimsOut</th>
      <td><p>The name to use for storage of the IterativeLSI dimensionality reduction in the <code>ArchRProject</code> as a <code>reducedDims</code> object.</p></td>
    </tr>
    <tr>
      <th>iterations</th>
      <td><p>The number of LSI iterations to perform.</p></td>
    </tr>
    <tr>
      <th>dimsToUse</th>
      <td><p>A vector containing the dimensions from the <code>reducedDims</code> object to use in clustering.</p></td>
    </tr>
    <tr>
      <th>corCutOff</th>
      <td><p>A numeric cutoff for the correlation of each dimension to the sequencing depth. If the dimension has a correlation to sequencing depth that is greater than the corCutOff, it will be excluded from analysis.</p></td>
    </tr>
    <tr>
      <th>LSIMethod</th>
      <td><p>A numeric/character indicating the order of operations in the TF-IDF normalization.
The 1st option is 1 or "tf-logidf", 2nd is 2 or "log(tf-idf)", and the 3rd option is 3 or "logtf-logidf".</p></td>
    </tr>
    <tr>
      <th>binarize</th>
      <td><p>A boolean value indicating whether the matrix should be binarized before running LSI. This is often desired when working with insertion counts.</p></td>
    </tr>
    <tr>
      <th>sampleCells</th>
      <td><p>An integer specifying number of cells to subset perform estimatedLSI and clustering.</p></td>
    </tr>
    <tr>
      <th>varFeatures</th>
      <td><p>The number of N variable features to use for LSI. The top N features will be used based on the <code>selectionMethod</code>.</p></td>
    </tr>
    <tr>
      <th>selectionMethod</th>
      <td><p>The selection method to be used for identifying the top variable features. Valid options are "var" for log-variability or "vmr" for variance-to-mean ratio.</p></td>
    </tr>
    <tr>
      <th>scaleTo</th>
      <td><p>scaleTo normalization depth for Cluster Averages for variance calculation</p></td>
    </tr>
    <tr>
      <th>totalFeatures</th>
      <td><p>The number of features to consider for use in LSI ranked by the total number of insertion counts.</p></td>
    </tr>
    <tr>
      <th>filterQuantile</th>
      <td><p>Remove features that are above this quantile based on insertion counts prior to initial (1st iteration) LSI.</p></td>
    </tr>
    <tr>
      <th>saveIterations</th>
      <td><p>A boolean value indicating whether the different LSI iterations should be saved as compressed <code>.rds</code> files in the designated <code>outDir</code>.</p></td>
    </tr>
    <tr>
      <th>outDir</th>
      <td><p>The output directory for saving LSI iterations if desired. Default is in outputDirectory of ArchRProject.</p></td>
    </tr>
    <tr>
      <th>clusterParams</th>
      <td><p>Additional parameters to be passed to <code><a href='addClusters.html'>ArchR::addClusters()</a></code>.</p></td>
    </tr>
    <tr>
      <th>runHarmony</th>
      <td><p>A boolean value indicating whether harmony-based batch correction should be run during the LSI iterations.</p></td>
    </tr>
    <tr>
      <th>harmonyParams</th>
      <td><p>Additional parameters to be passed to <code>harmony::HarmonyMatrix()</code>.</p></td>
    </tr>
    <tr>
      <th>threads</th>
      <td><p>The number of threads to be used for parallel computing.</p></td>
    </tr>
    <tr>
      <th>seed</th>
      <td><p>A number to be used as the seed for random number generation required in cluster determination. It is recommended to keep track of the seed used so that you can reproduce results downstream.</p></td>
    </tr>
    <tr>
      <th>verboseHeader</th>
      <td><p>A boolean value that determines whether standard output includes verbose sections.</p></td>
    </tr>
    <tr>
      <th>verboseAll</th>
      <td><p>A boolean value that determines whether standard output includes verbose subsections.</p></td>
    </tr>
    <tr>
      <th>force</th>
      <td><p>A boolean value that indicates whether or not to overwrite relevant data in the <code>ArchRProject</code> object.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>additional args</p></td>
    </tr>
    </table>
    

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
                </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://twitter.com/JeffreyGranja'>Jeffrey Granja</a>, <a href='https://twitter.com/doctorcorces'>Ryan Corces</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


